[id="ztp-for-factory-labtesting"]
= Lab testing
include::modules/common-attributes.adoc[]
:context: ztp-for-factory-labtesting

toc::[]

This section will cover two aspects of the testing, the HUB and the Spokes.

The scripts described here are just used for testing in a laboratory and leverage the use of https://github.com/karmab/kcli[KCLI] tool for vm creation and DNS setup on a `libvirt`-capable machine.

== Hub

We internally use the files in the folder `hack/deploy` to virtually setup an environment to test the pipeline.

The first step is the `build-hub.sh` which builds the lab deployment with all the requirements (hub, DNS, PVC's, `spokes.yaml`, etc.) that will be later used with OpenShift Pipelines to perform all the tests.


== Spokes

For the spokes we use the script `build-spokes.sh`

## Usage

### Pipeline execution Hub

```sh
tkn XXXXX
```

### Pipeline execution Spoke

### Monitoring

You can follow the pipeline execution via XXXXX
